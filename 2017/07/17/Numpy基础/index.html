<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> Numpy基础 · 权奥</title><meta name="description" content="Numpy基础 - gamblenull"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://yoursite.com/atom.xml" title="权奥"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="https://github.com/gamblenull1996" target="_blank" class="nav-list-link">GITHUB</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">Numpy基础</h1><div class="post-info">Jul 17, 2017</div><div class="post-content"><p>1.数组创建<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">import numpy as np</span><br><span class="line">arr = np.array([2,6,5,9], float) # array函数参数格式(list, type)</span><br><span class="line">type(arr) # array</span><br><span class="line">arr.tolist() # array转list</span><br><span class="line"># 随机创建数组</span><br><span class="line">np.random.permutation(length)</span><br><span class="line">np.random.normal(0,1,5) # 参数分别为正态分布的均值，标准差，数组的长度</span><br><span class="line">np.random.random(5) # 均匀分布，random函数将返回0-1之间的数字</span><br><span class="line"># 创建矩阵</span><br><span class="line">np.identify(5, dtype=float) # 单位矩阵</span><br><span class="line">np.eye(5, dtype=float) # 对角线全为1的矩阵 可以通过设置k来指定是那一条对角线</span><br><span class="line">array([[ 1.,  0.,  0.,  0.,  0.],</span><br><span class="line">       [ 0.,  1.,  0.,  0.,  0.],</span><br><span class="line">       [ 0.,  0.,  1.,  0.,  0.],</span><br><span class="line">       [ 0.,  0.,  0.,  1.,  0.],</span><br><span class="line">       [ 0.,  0.,  0.,  0.,  1.]])</span><br><span class="line">例 np.eye(5, k=2, dtype=float)</span><br><span class="line">array([[ 0.,  0.,  1.,  0.,  0.],</span><br><span class="line">       [ 0.,  0.,  0.,  1.,  0.],</span><br><span class="line">       [ 0.,  0.,  0.,  0.,  1.],</span><br><span class="line">       [ 0.,  0.,  0.,  0.,  0.],</span><br><span class="line">       [ 0.,  0.,  0.,  0.,  0.]])</span><br><span class="line">np.zeros((2,3), dtype=float) # 创建全0矩阵，矩阵的维数用tuple传参</span><br><span class="line">array([[ 0.,  0.,  0.],</span><br><span class="line">       [ 0.,  0.,  0.]])</span><br><span class="line">np.ones((3,2), dtype=float)  # 创建全1矩阵</span><br><span class="line">array([[ 1.,  1.],</span><br><span class="line">       [ 1.,  1.],</span><br><span class="line">       [ 1.,  1.]])</span><br><span class="line">arr = np.array([[13,32,31],[64,25,76]], dtype=float)</span><br><span class="line">np.zeros_like(arr) # 创建与array维数相同的全0矩阵</span><br><span class="line">array([[ 0., 0., 0.],</span><br><span class="line">       [ 0., 0., 0.]])</span><br><span class="line">np.ones_like(arr)  # 创建与array维数相同的全1矩阵</span><br><span class="line">array([[ 1., 1., 1.],</span><br><span class="line">       [ 1., 1., 1.]])</span><br><span class="line"></span><br><span class="line"># vstack函数</span><br><span class="line">arr1 = np.array([1,3,2])</span><br><span class="line">arr2 = np.array([3,4,6])</span><br><span class="line">np.vstack([arr1,arr2])</span><br><span class="line">array([[1, 3, 2],</span><br><span class="line">      [3, 4, 6]])</span><br></pre></td></tr></table></figure></p>
<a id="more"></a>
<p>2.数组的操作<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br></pre></td><td class="code"><pre><span class="line"># unique函数</span><br><span class="line">arr = np.array([3, 4, 5, 3, 5])</span><br><span class="line">np.unique(arr)</span><br><span class="line">返回: array([3, 4, 5])</span><br><span class="line"># sort函数和argsort函数</span><br><span class="line">np.sort(arr)</span><br><span class="line">返回： array([3,3,4,5,5])</span><br><span class="line">np.argsort(arr)</span><br><span class="line">返回： array([0,3,1,2,4]) # 返回的是array的索引</span><br><span class="line"># shuffle函数 随机排列</span><br><span class="line">np.random.shuffle(arr)</span><br><span class="line"># array_equal函数比较两个数组是否相等</span><br><span class="line">np.array_equal(arr, np.array([1,3,2]))</span><br><span class="line"># flatten函数 将多维数组变为一维数组</span><br><span class="line">arr = np.array([[10, 29, 23], [24, 25, 46]], dtype=float)</span><br><span class="line">arr.flatten()</span><br><span class="line">返回：array([ 10.,  29.,  23.,  24.,  25.,  46.])</span><br><span class="line"># shape和dtype</span><br><span class="line">arr.shape 得到数组的大小</span><br><span class="line">(2,3)</span><br><span class="line">arr.dtype 返回数组元素的类型</span><br><span class="line">dtype(&apos;float64&apos;)</span><br><span class="line">用astype函数转换数组元素的类型</span><br><span class="line">int_arr = arr.astype(np.int32)</span><br><span class="line"># reshape函数</span><br><span class="line">arr = arr.reshape((3,2))</span><br><span class="line">array([[ 10.,  29.],</span><br><span class="line">       [ 23.,  24.],</span><br><span class="line">       [ 25.,  46.]])</span><br><span class="line"># transpose函数 矩阵转置函数 或者.T</span><br><span class="line">arr = np.array([[0, 1, 2], [3 ,4 ,5]], dtype=float)</span><br><span class="line">arr.transpose()</span><br><span class="line">array([</span><br><span class="line">	[0, 3],</span><br><span class="line">	[1, 4],</span><br><span class="line">	[2, 5]])</span><br><span class="line"></span><br><span class="line"># 数组的连接操作用concatenate函数</span><br><span class="line">arr1 = np.array([10,22], float)</span><br><span class="line">arr2 = np.array([31,43,54,61], float)</span><br><span class="line">arr3 = np.array([71,82,29], float)</span><br><span class="line">np.concatenate((arr1, arr2, arr3))</span><br><span class="line">array([ 10., 22., 31., 43., 54., 61., 71., 82., 29.])</span><br><span class="line">多维数组的需指定沿哪条轴链接，Numpy默认沿着第一条轴连接</span><br><span class="line">arr1 = np.array([[11, 12], [32, 42]], float)</span><br><span class="line">arr2 = np.array([[54, 26], [27, 28]], float)</span><br><span class="line">np.concatenate((arr1, arr2))</span><br><span class="line">array([</span><br><span class="line">	[11, 12],</span><br><span class="line">    [32, 42],</span><br><span class="line">    [54, 26],</span><br><span class="line">    [27, 28]])</span><br><span class="line">np.concatenate((arr1, arr2), axis=1)</span><br><span class="line">array([</span><br><span class="line">	[11, 12, 32, 42],</span><br><span class="line">    [54, 26, 27, 28]])</span><br><span class="line"># 数组转二进制字符串 tostring和fromstring</span><br><span class="line">str = arr.tostring()</span><br><span class="line">&gt;&gt;&gt; str</span><br><span class="line">&apos;\x00\x00\x00\x00\x00\x00$@\x00\x00\x00\x00\x00\x004@\x00\x00\x00\x00\</span><br><span class="line">x00\x00&gt;@&apos;</span><br><span class="line">np.fromstring(str)</span><br><span class="line">&gt;&gt;&gt; array([10, 20, 30])</span><br><span class="line"></span><br><span class="line"># 相同大小的数组的加减乘除</span><br><span class="line">arr1 + arr2</span><br><span class="line">arr1 - arr2</span><br><span class="line">arr1 * arr2</span><br><span class="line">arr1 % arr2</span><br><span class="line">arr1 ** arr2</span><br><span class="line"></span><br><span class="line"># 广播：不同大小的array参与运算，维度少的数组将多次重复自身，直到与另一个数组维度相同</span><br><span class="line">arr1 = np.array([[1, 2], [3, 4], [5, 6]], float)</span><br><span class="line">arr2 = np.array([1, 2], float)</span><br><span class="line">&gt;&gt;&gt; arr1 + arr2</span><br><span class="line">array([</span><br><span class="line">	[2, 4],</span><br><span class="line">    [4, 6]</span><br><span class="line">    [6, 8]])</span><br><span class="line">这里arr2重复自身成了</span><br><span class="line">array([</span><br><span class="line">	[1, 2],</span><br><span class="line">    [1, 2],</span><br><span class="line">    [1, 2]])</span><br><span class="line"></span><br><span class="line"># 用bool数组过滤数组元素</span><br><span class="line">arr = np.array([[1, 2], [5, 9]], float)</span><br><span class="line">arr[arr &gt;= 7]</span><br><span class="line">array([9.])</span><br><span class="line">arr[np.logical_and(arr &gt;5, arr &lt; 11)]</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; arr1 = np.array([1, 4, 5, 9], float)</span><br><span class="line">&gt;&gt;&gt; arr2 = np.array([0, 1, 1, 3, 1, 1, 1], int)</span><br><span class="line">&gt;&gt;&gt; arr1[arr2]</span><br><span class="line">array([ 1., 4., 4., 9., 4., 4., 4.])</span><br><span class="line">arr2表示选择arr1中的第零个元素，第一个元素，第一个元素，第三个元素，第一个元素，第一个元素，第一个元素。</span><br><span class="line"></span><br><span class="line"># 多维度数组的选取操作</span><br><span class="line">arr1 = np.array([[1, 2], [5, 13]], float)</span><br><span class="line">arr2 = np.array([1, 0, 0, 1], int)</span><br><span class="line">arr3 = np.array([1, 1, 0, 1], int)</span><br><span class="line">arr1[arr2,arr3]</span><br><span class="line">array([ 13., 2., 1., 13.])</span><br><span class="line"></span><br><span class="line"># take函数和put函数</span><br><span class="line">take 以一个整数数组做参数表示索引，从另一个数组选取相应的元素</span><br><span class="line">arr1 = np.array([[10, 21], [62, 33]], float)</span><br><span class="line">arr2 = np.array([0, 0, 1], int)</span><br><span class="line">arr1.take(arr2, axis=0)</span><br><span class="line">array([[ 10., 21.],</span><br><span class="line">       [ 10., 21.],</span><br><span class="line">       [ 62., 33.]])</span><br><span class="line"></span><br><span class="line">arr1.take(arr2, axis=1) # 指定轴向</span><br><span class="line">array([[ 10., 10., 21.],</span><br><span class="line">       [ 62., 62., 33.]])</span><br><span class="line"></span><br><span class="line">put 是take的逆操作，它的两个参数一个是要被放到的位置，一个是被投放元素来自那个array</span><br><span class="line">arr1 = np.array([2, 1, 6, 2, 1, 9], float)</span><br><span class="line">arr2 = np.array([3, 10, 2], float)</span><br><span class="line">arr1.put([1, 4], arr2)</span><br><span class="line">arr1</span><br><span class="line">array([ 2., 3., 6., 2., 10., 9.])</span><br></pre></td></tr></table></figure></p>
<p>3.线性代数<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"># np.dot() 计算点积</span><br><span class="line">X = np.arange(15).reshape((3, 5))</span><br><span class="line">np.dot(X, X.T)</span><br><span class="line">np.outer()</span><br><span class="line">np.inner() # 内积</span><br><span class="line">np.cross() # 叉乘</span><br><span class="line"># np.linalg.det() 计算行列式的值</span><br><span class="line">matrix = np.array([[74, 22, 10], [92, 31, 17], [21, 22, 12]], float)</span><br><span class="line">np.linalg.det(matrix)</span><br><span class="line"># np.linalg.inv() 逆矩阵</span><br><span class="line">inv_matrix = np.linalg.inv(matrix)</span><br><span class="line">np.dot(inv_matrix, matrix)</span><br><span class="line"># 计算矩阵的特征值和特征向量</span><br><span class="line">vals, vecs = np.linalg.eig(matrix)</span><br></pre></td></tr></table></figure></p>
<p>4.统计<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">arr.mean() 均值</span><br><span class="line">arr.std()  标准差</span><br><span class="line">arr.var()  方差</span><br><span class="line">arr.min()  最小值</span><br><span class="line">arr.max()  最大值</span><br><span class="line">arr.argmin() 最小值的索引</span><br><span class="line">arr.argmax() 最大值的索引</span><br></pre></td></tr></table></figure></p>
</div></article></div></main><footer><div class="paginator"><a href="/2017/07/23/字典写入csv文件中出现多余空行的解决办法/" class="prev">prev_post</a><a href="/2017/07/16/为博客添加Let-s-Encrypt的HTTPS证书/" class="next">next_post</a></div><div class="copyright"><p>© 2015 - 2018 <a href="http://yoursite.com">gamblenull</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script></body></html>